<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>T4 API Reference ALL: _CONCEPT_DrawPage_client Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="acrobaticon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">T4 API Reference ALL
   &#160;<span id="projectnumber">00.1 Beta</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('interface___c_o_n_c_e_p_t___draw_page__client.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">_CONCEPT_DrawPage_client Interface Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Concept whose models provide types and callback methods for invocations of DrawPageIntoSurface() and <a class="el" href="namespacetetraphilia_1_1pdf_1_1render.html#a37b7a79c82a55076937cc76dc1f97640">DrawPageIntoGroup()</a>.  
 <a href="interface___c_o_n_c_e_p_t___draw_page__client.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="drawpage_8hpp_source.html">drawpage.hpp</a>&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Concept whose models provide types and callback methods for invocations of DrawPageIntoSurface() and <a class="el" href="namespacetetraphilia_1_1pdf_1_1render.html#a37b7a79c82a55076937cc76dc1f97640">DrawPageIntoGroup()</a>. </p>
<p>Callers of DrawPageIntoSurface() and <a class="el" href="namespacetetraphilia_1_1pdf_1_1render.html#a37b7a79c82a55076937cc76dc1f97640">DrawPageIntoGroup()</a> must provide a type whose instances provide important types and callbacks required by the implementation of those functions. Models of <a class="el" href="interface___c_o_n_c_e_p_t___draw_page__client.html" title="Concept whose models provide types and callback methods for invocations of DrawPageIntoSurface() and ...">_CONCEPT_DrawPage_client</a> must provide the following:</p>
<p><b>signal_traits</b></p>
<p>Models of <a class="el" href="interface___c_o_n_c_e_p_t___draw_page__client.html" title="Concept whose models provide types and callback methods for invocations of DrawPageIntoSurface() and ...">_CONCEPT_DrawPage_client</a> must provide a member typdef identifying the signal traits in which the rendering is to occur. This type must model _CONCEPT_SignalTraits. The client should choose a model of signal traits appropriate to the quality of the target environment and speed of the platform. In most known applications there is little reason to choose anything other than ByteSignalTraits.</p>
<p>Example:</p>
<pre><code>
struct MyDrawPageClient
{
    typedef imaging_model::ByteSignalTraits&lt;MyAppTraits&gt; signal_traits;
</code></pre><p><b>SignalDisplayEvent</b></p>
<p>Models of <a class="el" href="interface___c_o_n_c_e_p_t___draw_page__client.html" title="Concept whose models provide types and callback methods for invocations of DrawPageIntoSurface() and ...">_CONCEPT_DrawPage_client</a> must model _CONCEPT_DisplayEventListener as well. See the documentation of _CONCEPT_DisplayEventListener for more details.</p>
<p>Example:</p>
<pre>
<code>
   void SignalDisplayEvent( ::tetraphilia::pdf::render::EventCategory category, int type, int subtype )
   {
        m_statusBar.SetText( GetMessageFromDisplayEvent( category, type, subtype ) );
   }
</code>
</pre><p><b>Mark</b></p>
<p>Models of <a class="el" href="interface___c_o_n_c_e_p_t___draw_page__client.html" title="Concept whose models provide types and callback methods for invocations of DrawPageIntoSurface() and ...">_CONCEPT_DrawPage_client</a> must provide a method named "Mark" which is called by the renderer every time it encounters an object that intersects the surface's bounding rectangle. This may be used by the client to monitor progress of the rendering. In addition, a TransparencyGroup object is provided from which the client may choose to sample the rendering in progress.</p>
<p>The "objectIndex" parameter is an integer which may be treated as a unique ID for the object that was just rendered. This ID will correspond to the same object for all invocations of DrawPage on the same page, regardless of rendering parameters (including clip rectangle). It is guaranteed to monotonically increase as the rendering progresses. Objects that fall outside the clip region may be skipped.</p>
<p>The "bbox" parameter identifies the bounding rectangle in device space of the object that was just rendered. Clients may use this to make incremental update mechanisms more efficient.</p>
<p>The "group" parameter is the topmost TransparencyGroup at the current point in the rendering. If a client wishes to perform an incremental update, they should use the result of a call to GetResult on this object.</p>
<p>Note that Mark() will be called for <b>every</b> object that intersects the bounding rectangle of the surface or TransparencyGroup into which rendering is occurred, which means that it is probably inappropriate to do an expensive operation (such as updating the screen) every time Mark() is called. Clients are encouraged to use the Countdown class to perform reasonably-timed updates.</p>
<p>Example:</p>
<pre><code>
    void Mark( int objectIndex,
        const MyAppTraits::int_geometry_traits::rect_type&amp; bbox,
        imaging_model::TransparencyGroup&lt;signal_traits&gt;&amp; group )
    {
        m_accumulatedUpdateRect = RectUnion( m_accumulatedUpdateRect, bbox );
        if ( m_countdown.Expired() )
        {
            UpdateOffscreenBuffer( group, m_accumulatedUpdateRect );
            MakeEmptyRect(m_accumulatedUpdateRect);
            m_countdown.ResetMsec( 200 );
        }
    }
</code></pre><p><b>DrawingFinished</b></p>
<p>Instances of models of <a class="el" href="interface___c_o_n_c_e_p_t___draw_page__client.html" title="Concept whose models provide types and callback methods for invocations of DrawPageIntoSurface() and ...">_CONCEPT_DrawPage_client</a> must provide a method called DrawingFinished() which is called when the rendering completes. This method is called for both normal and exceptional termination, except for thread termination.</p>
<p>The "objectIndex" parameter is guaranteed to be larger than 0, and larger than the value of objectIndex in the last call to Mark(). In addition, for all non-exceptional terminations, it is guaranteed to be larger than any possible value of objectIndex for any set of rendering parameters for this page.</p>
<p>"group" is the TransparencyGroup which was being rendering into at the time of rendering termination. The client should use the result of calling this object's GetResult() method to get the final result of the rendering. (Callers of DrawPageIntoSurface() will almost certainly ignore this parameter).</p>
<p>If the rendering completed exceptionally (i.e., an exception was thrown while drawing the display list, instead of successfully reaching the end of the page's contents), the value of "e" will be non-NULL, and point to an error object describing the error.</p>
<p>The client may choose to rethrow the error, in which case it will be rethrow out of the original call to DrawPageIntoSurface() or <a class="el" href="namespacetetraphilia_1_1pdf_1_1render.html#a37b7a79c82a55076937cc76dc1f97640">DrawPageIntoGroup()</a>. Otherwise it will not be rethrown and the original DrawPageIntoXXX() call will return normally.</p>
<p>Example:</p>
<pre><code>
    void DrawingFinished( int objectIndex,
        imaging_model::TransparencyGroup&lt;signal_traits&gt;&amp; group,
        const t4::exception_ptr&amp; e )
    {
Update the screen
        UpdateOffscreenBuffer( group, m_accumulatedUpdateRect );

rethrow the error
        t4::rethrow_exception( e );
    }
};
</code></pre> </div><hr/>The documentation for this interface was generated from the following file:<ul>
<li>C:/GIT/t4/t4/tetraphilia/pdf/render/<a class="el" href="drawpage_8hpp_source.html">drawpage.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="interface___c_o_n_c_e_p_t___draw_page__client.html">_CONCEPT_DrawPage_client</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
