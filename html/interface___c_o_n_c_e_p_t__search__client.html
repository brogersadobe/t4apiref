<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>T4 API Reference ALL: _CONCEPT_search_client Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="acrobaticon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">T4 API Reference ALL
   &#160;<span id="projectnumber">00.1 Beta</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('interface___c_o_n_c_e_p_t__search__client.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">_CONCEPT_search_client Interface Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Concept whose models drive the operation of a Searcher object.  
 <a href="interface___c_o_n_c_e_p_t__search__client.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="search_8hpp_source.html">search.hpp</a>&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Concept whose models drive the operation of a Searcher object. </p>
<p>Text searches in Haiku are performed using the Searcher object, which requires a model of the Search Client concept. The Searcher performs a search on a worker thread, which periodically calls various methods on the search client to report matches, request page authorization, and handle end-of-document conditions.</p>
<p>Models of the Search Client concept must provide the following:</p>
<p><b>HandleSearchReachedEndOfDoc</b></p>
<p>This method is called on the search client when a Searcher reaches the end of the document on a forward search that did not start at the beginning. If the method returns true, the search will resume from the beginning of the document. If it returns false, the search terminates.</p>
<p>Example:</p>
<pre><code>
    bool HandleSearchReachedEndOfDoc( void )
    {
        return ShowContinueSearchDialog() == ID_OK;
    }
</code></pre><p><b>HandleSearchReachedStartOfDoc</b></p>
<p>This is the same as HandleSearchReachedEndOfDoc, but for backwards searches.</p>
<p>Example:</p>
<pre><code>
    bool HandleSearchReachedStartOfDoc( void )
    {
        return ShowContinueSearchDialog() == ID_OK;
    }
</code></pre><p><b>HandleSearchDone</b></p>
<p>This is called when the Searcher is finished searching the document. This happens after HandleSearchReachedStartOfDoc or HandleSearchReachedEndOfDoc returns false, or when the search reaches its starting point after searching the whole document.</p>
<p>Example:</p>
<pre><code>
    void HandleSearchDone( void )
    {
        m_dialog.m_progressText.SetText( "Search complete." );
    }
</code></pre><p><b>HandleSearchFatalError</b></p>
<p>This is called when the Searcher encounters a fatal error during the search. This could be due to malformed PDF, network error, out of memory, or anything else that could cause a search to fail.</p>
<p>Example:</p>
<pre><code>
    void HandleSearchFatalError( const t4::exception_ptr&amp; error )
    {
        m_dialog.m_progressText.SetText( "Document could not be searched." );
    }
</code></pre><p><b>PageIsAuthorized</b></p>
<p>This is called when the searcher is about to search a new page. If this method returns false, the searcher will skip the page and proceed to the next one.</p>
<pre><code>
    bool PageIsAuthorized( page_id_type pageID )
    {
        return m_docInfo.CheckAuthorizationAndLoad( pageID );
    }
</code></pre><p><b>HandleSearchFound</b></p>
<p>This is called whenever a match is found for the search parameters. It returns the ContentRange describing the sequence of characters that match the search. Immediately after this call returns, the Searcher's thread will block until the client calls Searcher::Go().</p>
<pre><code>
    void HandleSearchFound( const ContentRange&amp; range )
    {
        m_docViewContext.SetTextSelection( range );
        m_pageViewContext.ScrollToSelection();
        ++m_numFound;
    }
};
</code></pre><p>Text searches in Haiku are performed using the Searcher object, which requires a model of the Search Client concept. The Searcher performs a search on a worker thread, which periodically calls various methods on the search client to report matches, request page authorization, and handle end-of-document conditions.</p>
<p>Models of the Search Client concept must provide the following:</p>
<p><b>app_traits</b></p>
<p>Search client models must provide a member typedef identifying the application traits:</p>
<pre><code>
class MySearchClient:
{
public:
    typedef MyApplicationTraits app_traits;
</code></pre><p><b>HandleSearchDone</b></p>
<p>This is called when the Searcher is finished searching the range.</p>
<p>Example:</p>
<pre><code>
    void HandleSearchDone( void )
    {
        m_dialog.m_progressText.SetText( "Search complete." );
    }
</code></pre><p><b>HandleSearchFatalError</b></p>
<p>This is called when the Searcher encounters a fatal error during the search. This could be due to malformed PDF, network error, out of memory, or anything else that could cause a search to fail.</p>
<p>Example:</p>
<pre><code>
    void HandleSearchFatalError( const t4::exception_ptr&amp; error )
    {
        m_dialog.m_progressText.SetText( "Document could not be searched." );
    }
</code></pre><p><b>PageIsAuthorized</b></p>
<p>This is called when the searcher is about to search a new page. If this method returns false, the searcher will skip the page and proceed to the next one.</p>
<pre><code>
    bool PageIsAuthorized( const document::PageID&amp; pageID )
    {
        return m_docInfo.CheckAuthorizationAndLoad( pageID );
    }
</code></pre><p><b>HandleSearchFound</b></p>
<p>This is called whenever a match is found for the search parameters. It returns the ContentRange describing the sequence of characters that match the search. Immediately after this call returns, the Searcher's thread will block until the client calls Searcher::Go().</p>
<pre><code>
    void HandleSearchFound( const ContentRange&amp; range )
    {
        m_docViewContext.SetTextSelection( range );
        m_pageViewContext.ScrollToSelection();
        ++m_numFound;
    }
};
</code></pre> </div><hr/>The documentation for this interface was generated from the following file:<ul>
<li>C:/GIT/t4/t4/tetraphilia/pdf/textextract/<a class="el" href="search_8hpp_source.html">search.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="interface___c_o_n_c_e_p_t__search__client.html">_CONCEPT_search_client</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
